@using efVideoTube.Models;
@model Html5VideoModel
@{
    ViewBag.Title = Model.Title;
    string defaultLang = SubtitleLanguageParser.DefaultLanguage;
    if (Model.SubtitleLanguages.Count == 1) {
        defaultLang = Model.SubtitleLanguages.Single().Value;
    }
}

<div class="videoContainer">
    <video controls autoplay src="@Model.Url">
    @foreach (var subLang in Model.SubtitleLanguages) {
        <track kind="subtitles" src="@Url.Action(Global.ActionName.Subtitle, subLang.Key.GetRouteValues())"
            srclang="@subLang.Value" label="@subLang.Value" @(subLang.Value == defaultLang ? "default" : string.Empty) />
    }
    </video>
</div>
