@using efVideoTube.Models;
@using PureLib.Common;
@model ListModel
@{
    ViewBag.Title = Model.Current.IsNullOrEmpty() ? "List" : Path.GetFileName(Model.Current);
}

<h2>List</h2>

@if (!Model.Current.IsNullOrEmpty()) {
<p>
    @Html.ActionLink("Back", Global.ActionName.Index, Path.GetDirectoryName(Model.Current).GetRouteValues())
    Location: @Model.Current
</p>
}

<table>
@foreach (string f in Model.Folders) {
    <tr>
        <td>@Html.ActionLink(Path.GetFileName(f), Global.ActionName.Index, f.GetRouteValues())</td>
    </tr>
}
</table>
<br />
<table>
@foreach (FileModel f in Model.Files) {
    <tr>
        <td>@Html.ActionLink(Path.GetFileName(f.Path), Global.ActionName.Play, f.Path.GetRouteValues(), new { @class = "item" })</td>
        <td class="right">@f.Size.ToFriendlyString()</td>
    </tr>
}
</table>
<script src="@Url.Content("~/Scripts/jquery.efvt.index.js")" type="text/javascript"></script>
